---
timestamp: 'Tue Oct 21 2025 05:26:39 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251021_052639.e01f731c.md]]'
content_id: a7b73d54446de9b6a90b538172526552799e259c53d63f48210c142267ad4794
---

# Concept: User

**purpose**\
To manage user accounts, including registration, authentication, and basic profile information.

**principle**\
User accounts enable personalized interactions such as leaving reviews or setting preferences. Other concepts refer to users only by their `userId` and do not depend on internal user state.

***

## **state**

Each `User` is represented in persistent storage by the following fields:

| Field         | Type    | Description                                         |
|---------------|---------|-----------------------------------------------------|
| `userId`      | String  | Unique identifier for the user (generated by system) |
| `username`    | String  | Unique login identifier                             |
| `email`       | String  | Unique communication/login identifier               |
| `passwordHash`| String  | Secure hash of the user’s password                 |
| `creationDate`| Timestamp | Time at which the account was created           |

No other concepts may access or depend on these fields directly.

***

## **actions**

### `registerUser(username: String, email: String, password: String): { userId: String } | { error: String }`

**requires**

* `username` does not already exist in the system
* `email` does not already exist in the system
* `password` must be at least 8 characters long

**effects**\
Creates a new user with a hashed password and a generated `userId`. Stores the account in persistent state.

**returns**

* `{ userId }` on success
* `{ error }` if requirements are not met

***

### `authenticateUser(usernameOrEmail: String, password: String): { userId: String } | { error: String }`

**requires**

* A user with the given `usernameOrEmail` must exist
* The provided `password` must match the stored `passwordHash`

**effects**\
Authenticates the user.

**returns**

* `{ userId }` on success
* `{ error: "Invalid credentials." }` on failure

***

### `getUserById(userId: String): { username: String, email: String, creationDate: Timestamp } | { error: String }`

**requires**

* The `userId` must exist

**effects**\
Fetches non-sensitive profile information for the specified user.

**returns**

* `{ username, email, creationDate }` on success
* `{ error }` if the user does not exist

***

### `updateUserEmail(userId: String, newEmail: String): {} | { error: String }`

**requires**

* The `userId` must exist
* `newEmail` must not already be in use by another user

**effects**

* Updates the user’s email to `newEmail`.
* If `newEmail` is the same as the current email, the action has no effect and succeeds.

**returns**

* `{}` on success
* `{ error }` if requirements are not met

***

### `deleteUser(userId: String): {} | { error: String }`

**requires**

* The `userId` must exist

**effects**

* Deletes the user from persistent state.
* (Note: cascading cleanup of associated data is not handled here, but may be implemented via syncs in future assignments.)

**returns**

* `{}` on success
* `{ error }` if the user does not exist

***
